"use strict";(self["webpackChunkproject_week7"]=self["webpackChunkproject_week7"]||[]).push([[761],{6761:function(t,i,r){r.r(i),r.d(i,{default:function(){return L}});var s=r(6252),c=r(3577);const e={class:"container"},a={"aria-label":"breadcrumb"},o={class:"breadcrumb"},d={class:"breadcrumb-item"},u=(0,s.Uk)("購物車"),n={class:"breadcrumb-item active","aria-current":"page"},l={class:"row justify-content-center"},p={class:"col-8"},h=["src"],g={class:"col-4"},_={key:0,class:"h5"},v={key:1,class:"h6"},w={key:2,class:"h5"},b=(0,s._)("hr",null,null,-1);function k(t,i,r,k,m,f){const z=(0,s.up)("Loading"),L=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(z,{active:m.isLoading,"z-index":1060},null,8,["active"]),(0,s._)("div",e,[(0,s._)("nav",a,[(0,s._)("ol",o,[(0,s._)("li",d,[(0,s.Wm)(L,{to:"/user/cart"},{default:(0,s.w5)((()=>[u])),_:1})]),(0,s._)("li",n,(0,c.zw)(m.product.title),1)])]),(0,s._)("div",l,[(0,s._)("article",p,[(0,s._)("h2",null,(0,c.zw)(m.product.title),1),(0,s._)("div",null,(0,c.zw)(m.product.content),1),(0,s._)("div",null,(0,c.zw)(m.product.description),1),(0,s._)("img",{src:m.product.imageUrl,class:"img-fluid mb-3"},null,8,h)]),(0,s._)("div",g,[m.product.price?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",_,(0,c.zw)(m.product.origin_price)+" 元",1)),m.product.price?((0,s.wg)(),(0,s.iD)("del",v,"原價 "+(0,c.zw)(m.product.origin_price)+" 元",1)):(0,s.kq)("",!0),m.product.price?((0,s.wg)(),(0,s.iD)("div",w,"現在只要 "+(0,c.zw)(m.product.price)+" 元",1)):(0,s.kq)("",!0),b,(0,s._)("button",{type:"button",class:"btn btn-outline-danger",onClick:i[0]||(i[0]=t=>f.addToCart(m.product.id))}," 加到購物車 ")])])])],64)}var m={data(){return{isLoading:!1,product:{},id:""}},methods:{getProduct(){const t=`https://vue3-course-api.hexschool.io/v2//api/sharon1987/product/${this.id}`;this.isLoading=!0,this.$http.get(t).then((t=>{t.data.success&&(this.product=t.data.product),this.isLoading=!1}))},addToCart(t,i=1){const r="https://vue3-course-api.hexschool.io/v2//api/sharon1987/cart",s={product_id:t,qty:i};this.isLoading=!0,this.$http.post(r,{data:s}).then((t=>{this.isLoading=!1,this.$httpMessageState(t,"加入購物車"),this.$router.push("/user/cart")})).catch((t=>{this.isLoading=!1,this.$httpMessageState(t.response,"加入購物車")}))}},created(){this.id=this.$route.params.productId,this.getProduct()}},f=r(3744);const z=(0,f.Z)(m,[["render",k]]);var L=z}}]);
//# sourceMappingURL=761.9ea94ee8.js.map