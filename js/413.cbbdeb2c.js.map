{"version":3,"file":"js/413.cbbdeb2c.js","mappings":"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","sources":["webpack://project-week7/./src/components/ToastMessages.vue","webpack://project-week7/./src/components/ToastMessages.vue?2a51","webpack://project-week7/./src/views/LoginView.vue","webpack://project-week7/./src/views/LoginView.vue?5755"],"sourcesContent":["<template>\r\n  <div\r\n    class=\"toast-container position-fixed pe-3 top-0 end-0\"\r\n    style=\"z-index: 1500\"\r\n  >\r\n    <div\r\n      v-for=\"(msg, key) in messages\"\r\n      :key=\"key\"\r\n      class=\"toast show\"\r\n      :class=\"`toast${key}`\"\r\n      role=\"alert\"\r\n    >\r\n      <div class=\"toast-header\">\r\n        <span\r\n          :class=\"`bg-${msg.style}`\"\r\n          class=\"p-2 rounded me-2 d-inline-block\"\r\n        ></span>\r\n        <strong class=\"me-auto\">{{ msg.title }}</strong>\r\n        <button\r\n          type=\"button\"\r\n          class=\"btn-close\"\r\n          @click=\"clearToast(key)\"\r\n          aria-label=\"Close\"\r\n        ></button>\r\n      </div>\r\n      <div class=\"toast-body\" v-if=\"msg.content\">\r\n        {{ msg.content }}\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      messages: [],\r\n    };\r\n  },\r\n  inject: ['emitter'],\r\n  methods: {\r\n    toastShow() {\r\n      setTimeout(() => {\r\n        this.messages.shift();\r\n      }, 6000);\r\n    },\r\n    clearToast(index) {\r\n      this.messages.splice(index, 1);\r\n    },\r\n  },\r\n  mounted() {\r\n    this.emitter.on('push-message', (message) => {\r\n      const { style = 'success', title, content } = message;\r\n      this.messages.push({ style, title, content });\r\n      this.toastShow();\r\n    });\r\n  },\r\n};\r\n</script>\r\n","import { render } from \"./ToastMessages.vue?vue&type=template&id=5d8cfe71\"\nimport script from \"./ToastMessages.vue?vue&type=script&lang=js\"\nexport * from \"./ToastMessages.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\SC\\\\Desktop\\\\project-week7\\\\project-week7\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\"container mt-5\">\r\n    <Loading :active=\"isLoading\" :z-index=\"1060\"></Loading>\r\n    <ToastMessages></ToastMessages>\r\n    <form class=\"row justify-content-center\" @submit.prevent=\"signIn\">\r\n      <div class=\"col-md-6\">\r\n        <h1 class=\"h3 mb-3 font-weight-normal\">請先登入</h1>\r\n        <div class=\"mb-2\">\r\n          <label for=\"inputEmail\" class=\"sr-only\">Email address</label>\r\n          <input\r\n            type=\"email\"\r\n            id=\"inputEmail\"\r\n            class=\"form-control\"\r\n            placeholder=\"Email address\"\r\n            v-model=\"user.username\"\r\n            required\r\n            autofocus\r\n          />\r\n        </div>\r\n        <div class=\"mb-2\">\r\n          <label for=\"inputPassword\" class=\"sr-only\">Password</label>\r\n          <input\r\n            type=\"password\"\r\n            id=\"inputPassword\"\r\n            class=\"form-control\"\r\n            v-model=\"user.password\"\r\n            placeholder=\"Password\"\r\n            required\r\n          />\r\n        </div>\r\n        <div class=\"text-end mt-4\">\r\n          <button class=\"btn btn-lg btn-primary btn-block\" type=\"submit\">\r\n            登入\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport emitter from '@/libs/emitter';\r\nimport ToastMessages from '@/components/ToastMessages.vue';\r\n\r\nexport default {\r\n  components: {\r\n    ToastMessages,\r\n  },\r\n  data() {\r\n    return {\r\n      isLoading: false,\r\n      user: {},\r\n    };\r\n  },\r\n  provide() {\r\n    return {\r\n      emitter,\r\n    };\r\n  },\r\n  methods: {\r\n    signIn() {\r\n      const api = `${process.env.VUE_APP_API}/admin/signin`;\r\n      this.isLoading = true;\r\n      this.$http.post(api, this.user).then((response) => {\r\n        const { token, expired } = response.data;\r\n        document.cookie = `hexToken=${token};expires=${new Date(expired)};`;\r\n        this.isLoading = false;\r\n        this.$router.push('/admin/products');\r\n      }).catch((error) => {\r\n        this.isLoading = false;\r\n        this.$httpMessageState(error.response, '登入');\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n","import { render } from \"./LoginView.vue?vue&type=template&id=22bf27a4\"\nimport script from \"./LoginView.vue?vue&type=script&lang=js\"\nexport * from \"./LoginView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\SC\\\\Desktop\\\\project-week7\\\\project-week7\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","style","_createElementBlock","_Fragment","_renderList","$data","msg","key","role","_createElementVNode","_toDisplayString","title","type","onClick","$options","content","data","messages","inject","methods","toastShow","setTimeout","this","shift","clearToast","index","splice","mounted","emitter","on","message","push","__exports__","render","for","_createVNode","_component_Loading","active","_component_ToastMessages","onSubmit","_hoisted_3","_hoisted_5","id","placeholder","username","$event","required","autofocus","_hoisted_7","password","_hoisted_8","components","ToastMessages","isLoading","user","provide","signIn","api","$http","post","then","response","token","expired","document","cookie","Date","$router","catch","error","$httpMessageState"],"sourceRoot":""}